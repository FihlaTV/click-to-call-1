{"version":3,"file":"static/webpack/static/development/pages/preview.js.c92bb5db0599411720aa.hot-update.js","sources":["webpack:///./components/MatchedScripts.js"],"sourcesContent":["import React, { Component } from 'react';\nimport gql from \"graphql-tag\";\nimport { Query } from \"react-apollo\";\nimport { legislators } from \"../lib/legislators\";\nimport {houseMembers, senateMembers} from \"../lib/people\";\n\nconst SINGLE_SCRIPT_QUERY = gql`\n  query SINGLE_SCRIPT_QUERY($id: String!) {\n    campaignScripts(where: { campaignID: $id }) {\n      id\n      title\n      scriptContent\n      targetCondition2\n      targetCondition3\n      targetCondition4\n      data\n    }\n  }\n`;\n\n class MatchedScripts extends Component {\n\n    state = {\n        targetCandidates: this.props.candidates,\n    };\n\n    render() {\n\n    return (\n      <div>\n        <Query query={SINGLE_SCRIPT_QUERY} variables={{ id: this.props.id }} >\n            {({ data, loading, error }) => {\n                if (loading) return <p>Loading...</p>;\n                if (data.item) return <p>No Item Found for ID...</p>;\n                if (error) return <p>Error: {error.message}</p>;\n\n                let houseMemberArray = [];\n                  console.log(legislators);\n                  console.log(houseMembers);\n\n                  data.campaignScripts.map(csc => {\n                      var arraycontainskeyword = (csc.data.indexOf(houseMembers) > -1);\n                      console.log(houseMembers);\n                  });\n\n\n                    // Loops through all possible scripts\n                    return data.campaignScripts.map((cScript, i) => {\n\n                      if(cScript.data[0]) {\n                        var arraycontainskeyword = (cScript.data.indexOf(this.props.matchedCand) > -1);\n                        // If target candidate matches address and ZIP, show this script\n                        if(arraycontainskeyword == true) {\n                          return (\n                            <div className=\"repNameScript\" key={i}>\n                                <h1>{cScript.title}</h1>\n                                {cScript.data}\n                                <br />\n                                {cScript.targetCondition2}\n                                <br />\n                                {cScript.targetCondition3}\n                                <br />\n                                {cScript.targetCondition4}\n                                <div className=\"scriptContainer\">\n                                    <div dangerouslySetInnerHTML={{\n                                        __html: cScript.scriptContent\n                                    }}/>\n                                </div>\n                            </div>\n                        )\n                        } else {\n                          return false;\n                        }\n                      } else if(cScript.targetCondition3) {\n                        if(this.props.candParty === \"Democratic Party\") {\n                          if(cScript.targetCondition3 == \"Democrat\") {\n                            return (\n                              <div className=\"repNameScript\" key={i}>\n\n                                  <h1>{cScript.title}</h1>\n                                  {cScript.data}\n                                  <br />\n                                  {cScript.targetCondition2}\n                                  <br />\n                                  {cScript.targetCondition3}\n                                  <br />\n                                  {cScript.targetCondition4}\n                                  <div className=\"scriptContainer\">\n                                      <div dangerouslySetInnerHTML={{\n                                          __html: cScript.scriptContent\n                                      }}/>\n                                  </div>\n                              </div>\n                          )\n                          }\n                        } else {\n                          if(cScript.targetCondition3 == \"Republican\") {\n                            return (\n                              <div className=\"repNameScript\" key={i}>\n\n                                  <h1>{cScript.title}</h1>\n                                  {cScript.data}\n                                  <br />\n                                  {cScript.targetCondition2}\n                                  <br />\n                                  {cScript.targetCondition3}\n                                  <br />\n                                  {cScript.targetCondition4}\n                                  <div className=\"scriptContainer\">\n                                      <div dangerouslySetInnerHTML={{\n                                          __html: cScript.scriptContent\n                                      }}/>\n                                  </div>\n                              </div>\n                          )\n                        }\n                      }\n                    } else if(cScript.targetCondition4) {\n                      if(this.props.candState) {\n                        if(this.props.candState == cScript.targetCondition4){\n                          return (\n                            <div className=\"repNameScript\" key={i}>\n                                <h1>{cScript.title}</h1>\n                                {cScript.data}\n                                <br />\n                                {cScript.targetCondition2}\n                                <br />\n                                {cScript.targetCondition3}\n                                <br />\n                                {cScript.targetCondition4}\n                                <div className=\"scriptContainer\">\n                                    <div dangerouslySetInnerHTML={{\n                                        __html: cScript.scriptContent\n                                    }}/>\n                                </div>\n                            </div>\n                        )\n                        } else {\n                          return false;\n                        }\n                      }\n                    } else {\n                      this.state.targetCandidates.map((cand, i) => {\n                        var scriptID = cand.id;\n                          // Loops through all legislators. Adds 10 to ranked score.\n                          legislators.map(q => {\n                            if(q.id.bioguide === scriptID && cand.answer === data.campaignScripts.targetCondition2) {\n                              var fullname = q.name.first+\" \"+q.name.last;\n                              if(cScript.data) {\n                                cScript.data.map(n => {\n                                  if(n == fullname) {\n                                    return (\n                                      <div className=\"repNameScript\" key={i}>\n                                        <h1>{cScript.title}</h1>\n                                        {cScript.data}\n                                        <br />\n                                        {cScript.targetCondition2}\n                                        <br />\n                                        {cScript.targetCondition3}\n                                        <br />\n                                        {cScript.targetCondition4}\n                                        <div className=\"scriptContainer\">\n                                          <div dangerouslySetInnerHTML={{\n                                            __html: cScript.scriptContent\n                                          }}/>\n                                        </div>\n                                      </div>\n                                    )\n                                  }\n                                });\n                              }\n                            }\n                          });\n                        });\n                      }\n\n\n                    });\n                  }\n                }\n        </Query>\n      </div>\n    );\n  }\n}\n\n\nexport default MatchedScripts;"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AAaA;;;;;;;;;;;;;;;;;;AAEA;AACA;AADA;AACA;;;;;;AAGA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAGA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AAKA;;;;AAnKA;AACA;AAsKA;;;;A","sourceRoot":""}